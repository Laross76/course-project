# План автоматизации тестирования сервиса покупки тура.

## 1. Перечень автоматизируемых сценариев.

Общие сценарии для обеих форм оплаты (карта дебетовая и кредит):
- Успешная покупка тура по дебетовой карте с картой APPROVED (1111 2222 3333 4444).
- Отказ в покупке тура по дебетовой карте с картой DECLINED (5555 6666 7777 8888).
- Успешная покупка тура с кредитом по карте APPROVED.
- Отказ в покупке тура с кредитом по карте DECLINED.
- Валидация обязательных полей (номер карты, срок действия, CVC, имя владельца).
- Проверка невозможности сохранить данные карты в БД.
- Проверка корректности записи статуса платежа и способа оплаты в СУБД.
- Обработка некорректных данных карты (невалидный номер, просроченный год, неправильный CVC).
- Поведение при недоступности банковских сервисов (Payment Gate и Credit Gate).
- Проверка логирования запросов к банковским сервисам (через IP фильтр).
  
Для этапа автоматизации (одна форма, обычная оплата по дебетовой карте):
- Успешная оплата по карте APPROVED.
- Отказ оплаты по карте DECLINED.
- Проверка валидации полей формы.
- Проверка записи статуса оплаты в БД.
- Обработка ошибок банковского сервиса.

## 2. Перечень используемых инструментов с обоснованием выбора.
- Java + JUnit / TestNG — язык и фреймворк для написания автотестов, совместимы с приложением на Java.
- Selenide / Selenium WebDriver — для автоматизации взаимодействия с веб-интерфейсом.
- RestAssured — для интеграционного тестирования API банковских сервисов (при необходимости).
- MySQL Connector/J — для проверки данных в СУБД MySQL.
- Maven / Gradle — инструмент сборки и управления зависимостями.
- Allure Report — для генерации удобных отчетов по тестированию.
- Git + GitHub — для хранения кода, отчетов и документации.
- Postman (опционально) — для первичного тестирования API вручную.
- CI/CD (GitHub Actions или Jenkins) — для автоматического запуска тестов.
  
## 3. Перечень и описание возможных рисков при автоматизации.
- Изменения в интерфейсе веб-приложения — могут привести к ломке UI-тестов.
- Нестабильность банковских сервисов — сервисы работают на общем сервере, много трафика, возможны задержки или ошибки.
- Ограничения доступа к логам банковских сервисов — для отладки и проверки запросов может потребоваться дополнительное время.
- Сложность настройки доступа к СУБД — необходимо правильно настроить учетные данные и права.
- Сохранение данных в СУБД без данных карт — нужно убедиться, что тесты не сохраняют конфиденциальные данные.
- Время выполнения тестов — интеграционные тесты с реальными сервисами могут выполняться дольше.
- Сложность одновременного тестирования двух способов оплаты — для начала автоматизируем одну форму.
  
## 4. Интервальная оценка с учетом рисков (в часах).
|                Этап        	           |    Оценка времени (часы)|
|Анализ требований и подготовка сценариев  |         4               |
|Настройка окружения и интеграция с БД	   |         3               |
|Написание автотестов для одной формы	   |         8               |
|Отладка и стабилизация тестов	           |         4               |
|Подготовка отчетов и документации	       |         3               |
|Резерв на непредвиденные трудности	       |         3               |
|Итого:	                                   |         25 часов        |

## 5. План сдачи работ.
|  Дата	  |                    Этап	                   |       Результат              |
|День 1-2 |	Анализ требований и планирование	       |План автоматизации (Plan.md)  |
|День 3-4 |	Настройка окружения, интеграция с БД	   |Рабочее окружение, доступ к БД|
|День 5-7 |	Написание автотестов для выбранной формы   |                              |